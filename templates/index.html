<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CMUdict Lookup</title>
    <style>
      :root {
        color-scheme: light;
      }
      body {
        font-family: "Georgia", "Times New Roman", serif;
        margin: 0;
        background: linear-gradient(180deg, #f4f0e6, #f8f7f2);
        color: #1b1b1b;
      }
      .wrap {
        max-width: 720px;
        margin: 48px auto;
        padding: 0 20px;
      }
      h1 {
        font-size: 32px;
        margin-bottom: 8px;
        letter-spacing: 0.5px;
      }
      p {
        margin-top: 0;
        color: #3b3b3b;
      }
      form {
        display: flex;
        gap: 8px;
        margin: 20px 0 28px;
      }
      input[type="text"] {
        flex: 1;
        padding: 12px 14px;
        border: 1px solid #c6c2b8;
        border-radius: 8px;
        font-size: 16px;
        background: #fffdf8;
      }
      button {
        padding: 12px 16px;
        border: 0;
        border-radius: 8px;
        background: #2b3a34;
        color: #f8f7f2;
        font-size: 16px;
        cursor: pointer;
      }
      .result {
        padding: 16px;
        border: 1px solid #d8d2c4;
        border-radius: 10px;
        background: #fffdf8;
      }
      .pronunciation {
        border-top: 1px solid #eee4d5;
        padding: 12px 0;
      }
      .pronunciation:first-of-type {
        border-top: none;
        padding-top: 6px;
      }
      .label {
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #6d6a60;
        margin-top: 8px;
      }
      .value {
        font-family: "Courier New", monospace;
        font-size: 15px;
        margin: 4px 0 6px;
      }
      .rhymes {
        font-family: "Courier New", monospace;
        font-size: 14px;
        color: #2b3a34;
      }
      .muted {
        color: #6d6a60;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>CMUdict Lookup</h1>
      <p>Search for a word and see its pronunciations in ARPAbet.</p>
      <form method="get" action="/">
        <input
          type="text"
          name="q"
          placeholder="Try: dictionary"
          value="{{ query }}"
          autofocus
        >
        <button type="submit">Search</button>
      </form>

      {% if query %}
        <div class="result">
          <strong>{{ query|upper }}</strong>
          {% if results %}
            {% for pronunciation in results %}
              <div class="pronunciation">
                <div class="label">ARPAbet</div>
                <div class="value">{{ pronunciation.arpa }}</div>
                <div class="label">IPA</div>
                <div class="value">{{ pronunciation.ipa }}</div>
                <div class="label">Syllable Count</div>
                <div class="value">{{ pronunciation.syllables }}</div>
                <div class="label">Rhymes</div>
                {% if pronunciation.rhymes %}
                  <div class="rhymes">{{ pronunciation.rhymes|join(", ") }}</div>
                {% else %}
                  <div class="muted">No rhymes found.</div>
                {% endif %}
              </div>
            {% endfor %}
          {% else %}
            <div class="muted">No pronunciations found.</div>
          {% endif %}
        </div>
      {% else %}
        <div class="muted">Enter a word to get started.</div>
      {% endif %}
    </div>
  </body>
</html>
